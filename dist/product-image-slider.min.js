!function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function t(t){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{};i%2?e(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function(){function e(n,i){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=n,this.swiper=new Swiper(n,t(t({simulateTouch:!1,preloadImages:!1},i),{},{breakpoints:t(t({},null==i?void 0:i.breakpoints),{},{100:{simulateTouch:!0}}),updateOnImagesReady:!0,navigation:{nextEl:"".concat(n," .btn-slider--next"),prevEl:"".concat(n," .btn-slider--prev"),disabledClass:"btn--disabled"}})),this.swiper.on("lazyImageReady",(function(){return r.swiper.update()}))}var n,r,o;return n=e,o=[{key:"attachChangeHandler",value:function(e,t){e.on("slideChange",(function(){return t.thumbToggleActiveItem(e.activeIndex)}))}}],(r=[{key:"renderSlides",value:function(e){var t=e.map((function(e){return'\n        <div class="swiper-slide image-preview__image-item">\n          <a href="'.concat(e.normal,'">\n            <img \n              width="100%"\n              height="100%"\n              data-src="').concat(e.normal,'" \n              alt="product-image"\n              class="swiper-lazy">\n            <div class="loader">\n              <div class="loader__spinner"></div>\n            </div>\n          </a>\n        </div>\n      ')}));this.swiper.appendSlide(t),this.swiper.lazy.load()}},{key:"renderThumbanails",value:function(e){if(e.length){var t=e.map((function(e){return'\n        <div class="image-thumbnails__item swiper-slide" tabindex="0">\n          <img\n            height="100%"\n            width="100%"\n            data-src-max="'.concat(e.max,'"\n            src="').concat(e.normal,'" \n            alt="product-thumbnail">\n        </div>\n      ')}));this.swiper.appendSlide(t),this.swiper.lazy.load()}}},{key:"thumbToggleActiveItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.swiper.active;this.swiper.slides.forEach((function(t,n){e===n?t.classList.add("image-thumbnails__item--active"):t.classList.remove("image-thumbnails__item--active")}))}},{key:"onClickThumbnail",value:function(e,t){e.slideTo(t,300),this.thumbToggleActiveItem(t)}},{key:"attachThumbnailClickHandler",value:function(e){var t=this;this.swiper.slides.length&&(this.swiper.slides.forEach((function(n,i){n.addEventListener("click",t.onClickThumbnail.bind(t,e,i))})),this.thumbToggleActiveItem(e.activeIndex))}}])&&i(n.prototype,r),o&&i(n,o),e}();function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"scale",1),a(this,"maxScale",5),a(this,"holding",!1),a(this,"xCoor",0),a(this,"yCoor",0),a(this,"holdStart",{x:0,y:0}),this.zoomContainer=t,this.zoomInEl=n,this.zoomOutEl=i,this.addListeners()}var t,n;return t=e,(n=[{key:"resetZoom",value:function(){this.scale=1,this.holding=!1,this.xCoor=0,this.yCoor=0,this.holdStart={x:0,y:0},this.transform()}},{key:"addListeners",value:function(){var e=this;this.zoomContainer&&(this.zoomContainer.addEventListener("mousedown",this.onMouseHold.bind(this)),this.zoomContainer.addEventListener("mouseup",this.onMouseUp.bind(this)),this.zoomContainer.addEventListener("mousemove",this.onMouseMove.bind(this)),this.zoomContainer.addEventListener("touchmove",this.onMouseMove.bind(this)),this.zoomContainer.addEventListener("mousewheel",this.onMouseScroll.bind(this)),this.zoomInEl&&this.zoomInEl.addEventListener("click",(function(t){return e.onMouseScroll(t,120)})),this.zoomOutEl&&this.zoomOutEl.addEventListener("click",(function(t){return e.onMouseScroll(t,-120)})))}},{key:"onMouseUp",value:function(){this.holding=!1,this.zoomContainer.classList.remove("zoom-active")}},{key:"onMouseMove",value:function(e){this.preventZoomOut(),e.preventDefault(),!this.holding||this.xCoor>0||this.yCoor>0||1===this.scale||(this.xCoor=e.clientX-this.holdStart.x,this.yCoor=e.clientY-this.holdStart.y,this.transform())}},{key:"animateUI",value:function(){var e=this.scale>1,t=this.scale>=1&&this.scale<this.maxScale;this.zoomInEl&&(this.zoomInEl.disabled=!t),this.zoomOutEl&&(this.zoomOutEl.disabled=!e),this.zoomContainer.classList.toggle("zoomed",e)}},{key:"onMouseHold",value:function(e){e.preventDefault(),this.holdStart.x=e.clientX-this.xCoor,this.holdStart.y=e.clientY-this.yCoor,this.holding=!0,this.zoomContainer.classList.add("zoom-active")}},{key:"limitZoom",value:function(){this.scale>this.maxScale&&(this.scale=this.maxScale)}},{key:"preventZoomOut",value:function(){(this.xCoor>0||this.yCoor>0||this.scale<1)&&(this.yCoor=0,this.xCoor=0,this.scale=1),this.transform()}},{key:"onMouseScroll",value:function(e,t){if(e.preventDefault(),!(this.xCoor>0||this.yCoor>0)){var n,i,r,o,a,s;t?(a=window.innerWidth/2,o=window.innerHeight/2,r=t):(a=e.clientX,o=e.clientY,r=e.wheelDelta?e.wheelDelta:-e.deltaY),s=r>0;var l=Math.abs(r)/100;n=(a-this.xCoor)/this.scale,i=(o-this.yCoor)/this.scale,this.scale>=this.maxScale&&s||(s?this.scale*=l:this.scale/=l,this.limitZoom(),this.xCoor=a-n*this.scale,this.yCoor=o-i*this.scale,this.preventZoomOut())}}},{key:"transform",value:function(){this.animateUI(),this.zoomContainer.style.transform="translate(".concat(this.xCoor,"px, ").concat(this.yCoor,"px) scale(").concat(this.scale,")")}}])&&o(t.prototype,n),e}();function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){function e(t){var n=t.screenOpenEl,i=t.screenCloseEl,r=t.mainContainer,o=t.imageContainer,a=t.thumbnails,s=t.thumbnailsContainer,l=t.boundSwiperMain,u=t.boundSwiperThumbnails,h=t.onFullScreenChange;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"isFullScreen",!1),c(this,"swiper",void 0),this.screenOpenEl=n,this.screenCloseEl=i,this.imageContainer=o,this.mainContainer=r,this.thumbnails=a,this.thumbnailsContainer=s,this.boundSwiperMain=l,this.boundSwiperThumbnails=u,this.onFullScreenChange=h,this.addListeners(),this.initializeThumbnailsSwiper()}var t,n;return t=e,(n=[{key:"initializeThumbnailsSwiper",value:function(){(this.thumbnailsContainer||this.thumbnails)&&(this.swiper=new r(".".concat(this.thumbnailsContainer.className),{direction:"vertical",slidesPerView:4,preloadImages:!0,updateOnImagesReady:!0,mousewheel:!0,simulateTouch:!0}))}},{key:"addListeners",value:function(){var e=this;this.screenOpenEl&&this.screenCloseEl&&(document.addEventListener("fullscreenchange",(function(){document.fullscreenElement||(e.mainContainer.classList.remove("fullscreen--active"),e.isFullScreen=!1,document.documentElement.removeAttribute("style"),e.onFullScreenChange&&e.onFullScreenChange())})),this.screenCloseEl.addEventListener("click",this.toggleVisibility.bind(this)),this.screenOpenEl.addEventListener("click",this.toggleVisibility.bind(this)))}},{key:"toggleVisibility",value:function(){this.isFullScreen?(this.closeFullscreen(),this.isFullScreen=!1):(this.openFullscreen(),this.isFullScreen=!0),this.mainContainer.classList.toggle("fullscreen--active"),this.onFullScreenChange&&this.onFullScreenChange()}},{key:"onChangeImageFromThumbnail",value:function(e){this.boundSwiperMain.swiper.slideTo(e,0),this.renderMainViewImage()}},{key:"setLoading",value:function(e,t){if(e){var n=document.querySelector(".fullscreen .loader");n.style.display="flex",e.src=t,e.complete?i():e.onload=function(){return i()}}function i(){n.style.display="none",e.classList.remove("fullscreen__img--loading"),e.onload=null}}},{key:"renderThumbnails",value:function(){var e=this;if(this.thumbnailsContainer&&this.thumbnails&&this.thumbnails.length){var t=this.thumbnailsContainer.children[0];t.innerHTML="",this.thumbnails.forEach((function(n,i){var r=document.createElement("div");r.className="fullscreen__thumbnails-item swiper-slide",r.tabIndex=0,r.addEventListener("click",e.onChangeImageFromThumbnail.bind(e,i));var o=new Image;o.src=n.src,o.className="fullscreen__img",o.alt="full-product-thumbnail",r.appendChild(o),t.appendChild(r)})),this.swiper&&this.swiper.swiper.update()}}},{key:"renderMainViewImage",value:function(){if(this.imageContainer&&this.mainContainer){var e=new Image,t=document.querySelector(".image-thumbnails__item--active");this.imageContainer.children.length&&this.imageContainer.removeChild(this.imageContainer.children[0]),e.className="fullscreen__img fullscreen__img--main fullscreen__img--loading",e.alt="product-full-image";var n=t.children[0].dataset.srcMax;this.setLoading(e,n),this.imageContainer.appendChild(e)}}},{key:"openFullscreen",value:function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen(),document.documentElement.style.overflow="hidden",this.renderMainViewImage(),this.renderThumbnails()}},{key:"closeFullscreen",value:function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),document.documentElement.removeAttribute("style")}}])&&l(t.prototype,n),e}();function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var m=function(){function e(t){var n=t.variants,i=t.container,r=t.sizeVariants,o=t.boundSwiperMain,a=t.boundSwiperThumbnails,s=t.colorVariants,l=t.colorsContainer,c=t.sizesContainer,u=t.onChangeColor;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.colorsContainer=l,this.sizesContainer=c,this.variants=n,this.sizeVariants=r,this.colorVariants=s,this.container=i,this.boundSwiperThumbnails=a,this.boundSwiperMain=o,this.onChangeColor=u,this.renderColorOptions(),this.sizeVariants&&this.sizeVariants.length&&this.renderSizeOptions()}var t,n;return t=e,(n=[{key:"renderSizeOptions",value:function(){}},{key:"animateUI",value:function(e){Array.from(this.colorsContainer.querySelectorAll("[data-color]")).forEach((function(t){e===t.dataset.color?t.classList.add("active"):t.classList.remove("active")}))}},{key:"renderColorOptions",value:function(){var e,t,n=this;if(this.colorVariants){for(var i=0,r=Object.entries(this.colorVariants);i<r.length;i++){var o=(e=r[i],t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],s=o[1],l='\n        <div class="color" data-color='.concat(a,'>\n          <div>\n            <div class="color-circle ').concat(a,'"></div>\n          </div>\n          <div class="color-tooltip">\n            ').concat(s.title.toUpperCase(),'\n            <div class="color-arrow">\n              <i class="color-caret"></i>\n            </div>\n          </div>\n        </div>\n      ');this.colorsContainer.insertAdjacentHTML("afterbegin",l)}Array.from(this.colorsContainer.querySelectorAll("[data-color]")).forEach((function(e){var t=e.dataset.color,i=n.colorVariants[t];e.addEventListener("click",(function(){return n.onSelectByColor(i,t)}))}))}}},{key:"onSelectByColor",value:function(e,t){var n=this.boundSwiperMain.swiper,i=this.boundSwiperThumbnails.swiper,r=e.image,o=r.normal,a=r.small,s=r.max;n.slideTo(n.slides.length,700),this.boundSwiperThumbnails.thumbToggleActiveItem(n.activeIndex);var l=n.slides[n.slides.length-1],c=l.querySelector("img");l.querySelector("a").href=o,""===c.src?c.dataset.src=o:c.setAttribute("src",o),n.lazy.load();var u=i.slides[i.slides.length-1].querySelector("img");u.setAttribute("src",a),u.dataset.srcMax=s,this.animateUI(t),n.update()}}])&&d(t.prototype,n),e}();document.addEventListener("DOMContentLoaded",(function(){var e=new r(".image-preview__images",{slidesPerView:1,lazy:!0});e.renderSlides(window.images);var t=new r(".image-thumbnails",{simulateTouch:!0,mousewheel:!0,slidesPerView:5,breakpoints:{200:{slidesPerView:3},420:{slidesPerView:4}}});t.renderThumbanails(window.images),t.attachThumbnailClickHandler(e.swiper),r.attachChangeHandler(e.swiper,t);var n={screenOpenEl:document.querySelector(".btn-zoom"),mainContainer:document.querySelector(".fullscreen"),screenCloseEl:document.querySelector(".fullscreen__btn-close"),imageContainer:document.querySelector(".fullscreen__figure"),thumbnails:Array.from(document.querySelectorAll(".image-thumbnails__item img")),thumbnailsContainer:document.querySelector(".fullscreen__thumbnails"),boundSwiperMain:e,boundSwiperThumbnails:t},i=document.querySelector(".fullscreen__btn-zoom--in"),o=document.querySelector(".fullscreen__btn-zoom--out"),a=new s(n.imageContainer,i,o);n.onFullScreenChange=a.resetZoom.bind(a),new u(n);var l=$(".image-preview__image-item.swiper-slide").easyZoom();new m({colorsContainer:document.querySelector(".color-filter-container .container"),sizesContainer:document.querySelector(".size-tabs-container .sizes"),variants:window.variants,sizeVariants:window.sizes,colorVariants:window.colors,boundSwiperMain:e,boundSwiperThumbnails:t,onChangeColor:function(e){l.data("easyZoom").swap(e)}})}))}();